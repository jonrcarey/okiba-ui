{"version":3,"file":"index.esm.js","sources":["../index.js"],"sourcesContent":["import EventEmitter from '@okiba/event-emitter'\nimport {hasPassiveEvents} from '@okiba/detect'\nimport { on } from '@okiba/dom'\n\nexport default new class EventManager extends EventEmitter {\n  constructor() {\n    super()\n    this.listen()\n  }\n\n  onRaf = (timestamp) => {\n    this.emit('raf', timestamp)\n    requestAnimationFrame(this.onRaf)\n  }\n\n  onResize = () => {\n    this.emit('resize', {\n      width: window.innerWidth,\n      height: window.innerHeight\n    })\n  }\n\n  onScroll = (data) => {\n    this.emit('scroll', data)\n  }\n\n  listen() {\n    requestAnimationFrame(this.onRaf)\n\n    on(window, 'resize', this.onResize, hasPassiveEvents ? {passive: true, capture: false} : false)\n    on(window, 'scroll', this.onScroll, hasPassiveEvents ? {passive: true, capture: false} : false)\n  }\n}\n"],"names":["timestamp","emit","requestAnimationFrame","onRaf","width","window","innerWidth","height","innerHeight","data","listen","on","onResize","hasPassiveEvents","passive","capture","onScroll","EventEmitter"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAIA,YAAe;;AAAA;;;0BACC;;;;;;;4DAKN,UAACA,SAAD,EAAe;YAChBC,IAAL,CAAU,KAAV,EAAiBD,SAAjB;;MACAE,qBAAqB,CAAC,MAAKC,KAAN,CAArB;KAPY;;+DAUH,YAAM;YACVF,IAAL,CAAU,QAAV,EAAoB;QAClBG,KAAK,EAAEC,MAAM,CAACC,UADI;QAElBC,MAAM,EAAEF,MAAM,CAACG;OAFjB;KAXY;;+DAiBH,UAACC,IAAD,EAAU;YACdR,IAAL,CAAU,QAAV,EAAoBQ,IAApB;KAlBY;;UAEPC,MAAL;;;;;;;6BAmBO;MACPR,qBAAqB,CAAC,KAAKC,KAAN,CAArB;MAEAQ,EAAE,CAACN,MAAD,EAAS,QAAT,EAAmB,KAAKO,QAAxB,EAAkCC,gBAAgB,GAAG;QAACC,OAAO,EAAE,IAAV;QAAgBC,OAAO,EAAE;OAA5B,GAAqC,KAAvF,CAAF;MACAJ,EAAE,CAACN,MAAD,EAAS,QAAT,EAAmB,KAAKW,QAAxB,EAAkCH,gBAAgB,GAAG;QAACC,OAAO,EAAE,IAAV;QAAgBC,OAAO,EAAE;OAA5B,GAAqC,KAAvF,CAAF;;;;;EA1B0CE,YAA/B,WAAf;;;;"}
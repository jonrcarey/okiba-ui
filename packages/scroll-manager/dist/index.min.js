var OkibaScrollManager=function(){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==u.return||u.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var e=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.hs={}}return function(e,t,n){t&&f(e.prototype,t),n&&f(e,n)}(e,[{key:"on",value:function(e,t){(this.hs[e]||(this.hs[e]=[])).push(t)}},{key:"off",value:function(e,t){if(this.hs[e]){var n=this.hs[e].indexOf(t);n<0||this.hs[e].splice(n,1)}}},{key:"emit",value:function(e,t){if(this.hs&&this.hs[e])for(var n=0;n<this.hs[e].length;++n)this.hs[e][n](t)}},{key:"destroy",value:function(){var r=this;Object.entries(this.hs).forEach(function(e){var t=c(e,2),n=t[0];return t[1].forEach(function(e){return r.off(n,e)})}),delete this.hs}}]),e}();function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==u.return||u.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var h,t=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.hs={}}return function(e,t,n){t&&l(e.prototype,t),n&&l(e,n)}(e,[{key:"on",value:function(e,t){(this.hs[e]||(this.hs[e]=[])).push(t)}},{key:"off",value:function(e,t){if(this.hs[e]){var n=this.hs[e].indexOf(t);n<0||this.hs[e].splice(n,1)}}},{key:"emit",value:function(e,t){if(this.hs&&this.hs[e])for(var n=0;n<this.hs[e].length;++n)this.hs[e][n](t)}},{key:"destroy",value:function(){var r=this;Object.entries(this.hs).forEach(function(e){var t=s(e,2),n=t[0];return t[1].forEach(function(e){return r.off(n,e)})}),delete this.hs}}]),e}(),p={};Object.defineProperties(p,{check:{get:function(){if(void 0!==h)return h;function e(){}var t=Object.defineProperty({},"passive",{get:function(){h=!0}});return window.addEventListener("_",e,t),window.removeEventListener("_",e,t),h}}});Object.defineProperties({},{check:{get:function(){return"ontouchstart"in window}}});var y=p.check;function b(e){return void 0===e?e:e instanceof Array?e:e.callee||e instanceof NodeList||e instanceof DOMTokenList?Array.prototype.slice.call(e):[e]}function d(e,t,n,r){return function(e,t,n,r,i){if(!t||!n)return!1;for(var o=b(e),a=b(t),u=b(n),f=0;f<o.length;++f)for(var c=0;c<a.length;++c)o[f]["".concat(r,"EventListener")](a[c],u[Math.min(c,u.length-1)],i);return!0}(e,t,n,"add",r)}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Y=new(function(){function e(){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),w(O(t=function(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?O(e):t}(this,g(e).call(this))),"onRaf",function(e){t.emit("raf",e),requestAnimationFrame(t.onRaf)}),w(O(t),"onResize",function(){t.emit("resize",{width:window.innerWidth,height:window.innerHeight})}),w(O(t),"onScroll",function(e){t.emit("scroll",e)}),t.listen(),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(e,t),function(e,t,n){t&&v(e.prototype,t),n&&v(e,n)}(e,[{key:"listen",value:function(){requestAnimationFrame(this.onRaf),d(window,"resize",this.onResize,!!y&&{passive:!0,capture:!1}),d(window,"scroll",this.onScroll,!!y&&{passive:!0,capture:!1})}}]),e}());function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var j=new(function(){function e(){var a=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(this,"onResize",function(){a.window={width:window.innerWidth,height:window.innerHeight};var e=!0,t=!(a.body={width:document.body.offsetWidth,height:document.body.offsetHeight}),n=void 0;try{for(var r,i=a.map.keys()[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){var o=r.value;a.compute(o)}}catch(e){t=!0,n=e}finally{try{e||null==i.return||i.return()}finally{if(t)throw n}}}),this.map=new Map,this.listen(),this.onResize()}return function(e,t,n){t&&k(e.prototype,t),n&&k(e,n)}(e,[{key:"get",value:function(e){return this.map.has(e)||(this.map.set(e,{}),this.compute(e)),this.map.get(e)}},{key:"compute",value:function(e){var t=this.map.get(e),n=function(e){for(var t=0,n=0;e&&!isNaN(e.offsetLeft)&&!isNaN(e.offsetTop);)t+=e.offsetLeft-("BODY"!==e.tagName?e.scrollLeft:0),n+=e.offsetTop-("BODY"!==e.tagName?e.scrollTop:0),e=e.offsetParent;return{top:n,left:t}}(e),r=n.top,i=n.left,o=e.clientWidth,a=e.clientHeight;t.top=r,t.right=i+o,t.bottom=r+a,t.left=i,t.width=o,t.height=a}},{key:"listen",value:function(){Y.on("resize",this.onResize)}}]),e}());return new(function(){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),i(u(e=function(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?u(e):t}(this,o(t).call(this))),"onRaf",function(){e.isEnabled&&e.lerpY!==e.targetY&&(e.deltaLerpY=e.lerpY,e.lerpY=function(e,t,n){return(t-e)*n+e}(e.lerpY,e.targetY,.1),e.deltaLerpY-=e.lerpY,Math.abs(e.deltaLerpY)<.02&&(e.lerpY=e.targetY,e.deltaLerpY=0),e.emit("scroll",{y:~~e.lerpY,delta:e.deltaLerpY,acceleration:e.deltaLerpY/j.window.height}))}),i(u(e),"onChange",function(){e.deltaY=(window.scrollY||window.pageYOffset)-e.targetY,e.targetY+=e.deltaY,e.isEnabled||e.emit("scroll",{y:e.targetY,delta:e.deltaY,acceleration:e.deltaY/j.window.height})}),e.targetY=e.lerpY=window.scrollY||window.pageYOffset,e.emit("scroll",{y:e.targetY,delta:0,acceleration:0}),e.listen(),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(t,e),function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(t,[{key:"disable",value:function(){this.isEnabled&&(this.isEnabled=!1)}},{key:"enable",value:function(){this.isEnabled||(this.isEnabled=!0)}},{key:"listen",value:function(){Y.on("raf",this.onRaf),Y.on("scroll",this.onChange),Y.on("resize",this.onChange)}}]),t}())}();

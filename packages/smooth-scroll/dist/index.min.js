var OkibaSmoothScroll=function(){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,f=t[Symbol.iterator]();!(r=(a=f.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==f.return||f.return()}finally{if(i)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var t=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.hs={}}return function(t,e,n){e&&o(t.prototype,e),n&&o(t,n)}(t,[{key:"on",value:function(t,e){(this.hs[t]||(this.hs[t]=[])).push(e)}},{key:"off",value:function(t,e){if(this.hs[t]){var n=this.hs[t].indexOf(e);n<0||this.hs[t].splice(n,1)}}},{key:"emit",value:function(t,e){if(this.hs&&this.hs[t])for(var n=0;n<this.hs[t].length;++n)this.hs[t][n](e)}},{key:"destroy",value:function(){var r=this;Object.entries(this.hs).forEach(function(t){var e=a(t,2),n=e[0];return e[1].forEach(function(t){return r.off(n,t)})}),delete this.hs}}]),t}();function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,f=t[Symbol.iterator]();!(r=(a=f.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==f.return||f.return()}finally{if(i)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var s,e=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.hs={}}return function(t,e,n){e&&f(t.prototype,e),n&&f(t,n)}(t,[{key:"on",value:function(t,e){(this.hs[t]||(this.hs[t]=[])).push(e)}},{key:"off",value:function(t,e){if(this.hs[t]){var n=this.hs[t].indexOf(e);n<0||this.hs[t].splice(n,1)}}},{key:"emit",value:function(t,e){if(this.hs&&this.hs[t])for(var n=0;n<this.hs[t].length;++n)this.hs[t][n](e)}},{key:"destroy",value:function(){var r=this;Object.entries(this.hs).forEach(function(t){var e=u(t,2),n=e[0];return e[1].forEach(function(t){return r.off(n,t)})}),delete this.hs}}]),t}(),l={};Object.defineProperties(l,{check:{get:function(){if(void 0!==s)return s;function t(){}var e=Object.defineProperty({},"passive",{get:function(){s=!0}});return window.addEventListener("_",t,e),window.removeEventListener("_",t,e),s}}});Object.defineProperties({},{check:{get:function(){return"ontouchstart"in window}}});var c=l.check;function h(t){return void 0===t?t:t instanceof Array?t:t.callee||t instanceof NodeList||t instanceof DOMTokenList?Array.prototype.slice.call(t):[t]}function p(t,e,n,r){return function(t,e,n,r,i){if(!e||!n)return!1;for(var o=h(t),a=h(e),f=h(n),u=0;u<o.length;++u)for(var s=0;s<a.length;++s)o[u]["".concat(r,"EventListener")](a[s],f[Math.min(s,f.length-1)],i);return!0}(t,e,n,"add",r)}function y(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function b(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function v(t,e){return(v=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function w(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var g=new(function(){function t(){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),b(w(e=function(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?w(t):e}(this,d(t).call(this))),"onRaf",function(t){e.emit("raf",t),requestAnimationFrame(e.onRaf)}),b(w(e),"onResize",function(){e.emit("resize",{width:window.innerWidth,height:window.innerHeight})}),b(w(e),"onScroll",function(t){e.emit("scroll",t)}),e.listen(),e}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&v(t,e)}(t,e),function(t,e,n){e&&y(t.prototype,e),n&&y(t,n)}(t,[{key:"listen",value:function(){requestAnimationFrame(this.onRaf),p(window,"resize",this.onResize,!!c&&{passive:!0,capture:!1}),p(window,"scroll",this.onScroll,!!c&&{passive:!0,capture:!1})}}]),t}());function m(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var O=new(function(){function t(){var a=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(this,"onResize",function(){a.window={width:window.innerWidth,height:window.innerHeight};var t=!0,e=!(a.body={width:document.body.offsetWidth,height:document.body.offsetHeight}),n=void 0;try{for(var r,i=a.map.keys()[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){var o=r.value;a.compute(o)}}catch(t){e=!0,n=t}finally{try{t||null==i.return||i.return()}finally{if(e)throw n}}}),this.map=new Map,this.listen(),this.onResize()}return function(t,e,n){e&&m(t.prototype,e),n&&m(t,n)}(t,[{key:"get",value:function(t){return this.map.has(t)||(this.map.set(t,{}),this.compute(t)),this.map.get(t)}},{key:"compute",value:function(t){var e=this.map.get(t),n=function(t){for(var e=0,n=0;t&&!isNaN(t.offsetLeft)&&!isNaN(t.offsetTop);)e+=t.offsetLeft-("BODY"!==t.tagName?t.scrollLeft:0),n+=t.offsetTop-("BODY"!==t.tagName?t.scrollTop:0),t=t.offsetParent;return{top:n,left:e}}(t),r=n.top,i=n.left,o=t.clientWidth,a=t.clientHeight;e.top=r,e.right=i+o,e.bottom=r+a,e.left=i,e.width=o,e.height=a}},{key:"listen",value:function(){g.on("resize",this.onResize)}}]),t}());function Y(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function k(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function E(t){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function j(t,e){return(j=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function P(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var R=new(function(){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),k(P(t=function(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?P(t):e}(this,E(e).call(this))),"onRaf",function(){t.isEnabled&&t.lerpY!==t.targetY&&(t.deltaLerpY=t.lerpY,t.lerpY=function(t,e,n){return(e-t)*n+t}(t.lerpY,t.targetY,.1),t.deltaLerpY-=t.lerpY,Math.abs(t.deltaLerpY)<.02&&(t.lerpY=t.targetY,t.deltaLerpY=0),t.emit("scroll",{y:~~t.lerpY,delta:t.deltaLerpY,acceleration:t.deltaLerpY/O.window.height}))}),k(P(t),"onChange",function(){t.deltaY=(window.scrollY||window.pageYOffset)-t.targetY,t.targetY+=t.deltaY,t.isEnabled||t.emit("scroll",{y:t.targetY,delta:t.deltaY,acceleration:t.deltaY/O.window.height})}),t.targetY=t.lerpY=window.scrollY||window.pageYOffset,t.emit("scroll",{y:t.targetY,delta:0,acceleration:0}),t.listen(),t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&j(t,e)}(e,t),function(t,e,n){e&&Y(t.prototype,e),n&&Y(t,n)}(e,[{key:"disable",value:function(){this.isEnabled&&(this.isEnabled=!1)}},{key:"enable",value:function(){this.isEnabled||(this.isEnabled=!0)}},{key:"listen",value:function(){g.on("raf",this.onRaf),g.on("scroll",this.onChange),g.on("resize",this.onChange)}}]),e}());return function(){function e(t){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),i(this,"onRaf",function(){n.isEnabled&&(n.targetY!==n.y?(n.y=n.targetY,n.el.style.transform="translate3d(0, -".concat(n.y,"px, 0)")):g.off("raf",n.onRaf))}),i(this,"onScroll",function(t){var e=t.y;if(n.targetY=function(t,e,n){return Math.min(Math.max(t,e),n)}(e,n.top,n.bottom),n.targetY!==n.y)return n.onRaf(),void g.on("raf",n.onRaf)}),i(this,"onResize",function(){n.bottom=n.sizes.bottom,n.top=n.sizes.top-O.window.height}),this.el=t,this.sizes=O.get(this.el),this.onResize(),this.listen()}return function(t,e,n){e&&r(t.prototype,e),n&&r(t,n)}(e,[{key:"disable",value:function(){this.isEnabled&&(this.isEnabled=!1,this.el.style.transform="")}},{key:"enable",value:function(){this.isEnabled||(this.isEnabled=!0,this.el.style.transform="translate3d(0, -".concat(this.y,"px, 0)"))}},{key:"listen",value:function(){g.on("resize",this.onResize),g.on("raf",this.onRaf),R.on("scroll",this.onScroll)}}]),e}()}();
